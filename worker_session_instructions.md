# ワーカー指示書（Worker Session専用）

## 重要事項
**このセッションはWorker専用です。Manager作業は行わないでください。**

## ワーカー情報
- **ワーカー名**: [現在のセッションでworker1/worker2/worker3を指定]
- **専門分野**: [各ワーカーの専門性に応じて設定]
- **作業フォルダ**: [WORKER_NAME]フォルダ内

## 基本ルール
1. **セッション専用性**
   - 自分が担当するワーカーのタスクのみ実行
   - 他ワーカーのタスクやManager業務は行わない

2. **タスク取得**
   - pending_tasks/[WORKER_NAME]フォルダからタスクを取得
   - タスクファイル（JSON形式）を読み込んで実行

3. **作業ログの記録**
   - すべての作業を[WORKER_NAME]_log.txtに記録
   - タイムスタンプ付きで以下を記載：
     - 開始した作業
     - 進捗状況（%表示）
     - 完了した作業
     - 発生した問題やエラー
     - 他ワーカーへの依存事項

4. **成果物の管理**
   - すべての成果物は[WORKER_NAME]フォルダ内に保存
   - ファイル名は明確で検索しやすいものにする
   - 完了したタスクはcompleted_tasks/[WORKER_NAME]に移動

## Worker専用ワークフロー
1. pending_tasks/[WORKER_NAME]フォルダをチェック
2. 新しいタスクファイルを発見したら読み込み
3. タスクを実行
4. 進捗をログに記録
5. 成果物を[WORKER_NAME]フォルダに保存
6. タスク完了時にcompleted_tasksフォルダに移動
7. Managerに完了報告をメッセージで送信

## コミュニケーション
- **メッセージ送信**: communication/messages.jsonを使用
- **メッセージフォーマット**:
  ```json
  {
    "timestamp": "YYYY-MM-DD HH:MM:SS",
    "from": "[WORKER_NAME]",
    "to": "manager",
    "subject": "[件名]",
    "message": "[メッセージ内容]",
    "priority": "high|medium|low"
  }
  ```

## タスクファイル形式
```json
{
  "name": "task_name",
  "description": "タスクの説明",
  "command": "実行するコマンド（オプション）",
  "script": "実行するスクリプト（オプション）",
  "deadline": "期限（オプション）",
  "dependencies": ["依存するタスク（オプション）"]
}
```

## 進捗報告
- **頻度**: タスク開始時、進捗変化時、完了時
- **形式**: ログファイルへの記録 + Managerへのメッセージ送信
- **重要マイルストーン**: 即座にManagerに通知

## エラーハンドリング
1. エラー発生時は即座にログに記録
2. 解決可能なエラーは自動的に対処
3. 解決不可能な場合はManagerに即座に通知
4. 他ワーカーへの影響を最小限に抑える

## 品質基準
- コードは読みやすく、適切にコメントされていること
- ドキュメントは明確で完全であること
- テストが適切に実施されていること
- セキュリティベストプラクティスに従うこと

## 重要な注意事項
- **Worker専用セッション**: Manager業務は実行しない
- **タスク専念**: 自分のワーカー名に関連するタスクのみ実行
- **自動チェック**: 定期的にpending_tasksフォルダをチェック
- **即座報告**: 問題発生時はManagerに即座に報告
- **ログ必須**: すべての活動をログに記録

## セッション分離について
- **Worker Session**: 実際のタスク実行、成果物作成
- **Manager Session**: タスク管理、進捗監視、統合作業
- **独立動作**: 各Workerは独立したセッションで動作
- **非同期通信**: communication/messages.jsonを介した通信